---
title: 内存模型
date: 2023-03-07 17:28:43
tags:
  - Go
categories:
  - Go
---

# 一、场景

如何保证在一个goroutine中看到另一个goroutine修改的变量的值，如果程序中修改数据时，有其他goroutine同时读取，那么必须将读取串行化。

## Happen-Before

在一个goroutine中，读和写时按照一定顺序执行的，由于goroutine的重排，他的执行顺序可能是不确定的。

## Memory Reordering

为了提高读写效率，编译器会对读写指令进行重新排列，这就是所谓得内存重排，英文为MemoryReordering。


