---
title: 常见面试题
date: 2022/9/21 19:13:25
tags:
  - 面试题
categories:
  - 面试题
---


## 1. 进程、线程、协程的区别

### 概念
#### 进程
进程是具有一定独立功能的程勋关于某个数据集合上的一次运行活动，进程是系统进行资源分配和调度的一个基本单位。每个进程都有自己的独立内存空间，不同进程通过进程间通信来通信。由于进程比较重，占用独立的内存，所以上下文进程间的切换开销比较大，但是相对稳定安全。

#### 线程
线程是进程的一个实体，是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位。线程自己基本上不拥有系统资源,只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈),但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源。线程间通信主要通过共享内存，上下文切换很快，资源开销较少，但相比进程不够稳定容易丢失数据。

#### 协程
协程是一种用户态的轻量级线程，协程的调度完全由用户控制。协程拥有自己的寄存器上下文和栈。协程调度切换时，将寄存器上下文和栈保存到其他地方，在切回来的时候，恢复先前保存的寄存器上下文和栈，直接操作栈则基本没有内核切换的开销，可以不加锁的访问全局变量，所以上下文的切换非常快。

### 区别
#### 进程与线程比较
1) 地址空间:线程是进程内的一个执行单元，进程内至少有一个线程，它们共享进程的地址空间，而进程有自己独立的地址空间
2) 资源拥有:进程是资源分配和拥有的单位,同一个进程内的线程共享进程的资源
3) 线程是处理器调度的基本单位,但进程不是
4) 二者均可并发执行
5) 每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口，但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制

#### 协程与线程进行比较
1) 一个线程可以多个协程，一个进程也可以单独拥有多个协程
2) 线程进程都是同步机制，而协程则是异步
3) 协程能保留上一次调用时的状态，每次过程重入时，就相当于进入上一次调用的状态


## 2. 同步锁
当一个 Goroutine（协程）获得了 Mutex 后，其他 Goroutine（协程）就只能乖乖的等待，除非该 Goroutine 释放了该 Mutex。RWMutex 在读锁占用的情况下，会阻止写，但不阻止读 RWMutex。 在写锁占用情况下，会阻止任何其他Goroutine（无论读和写）进来，整个锁相当于由该 Goroutine 独占同步锁的作用是保证资源在使用时的独有性，不会因为并发而导致数据错乱，保证系统的稳定性。

## 3. Golang与Java区别
Go语言：
编译部署：Go针对不同的平台，编译对应的机器码；Java通过虚拟机编译，使用JVM跨平台编译；
并发性：golang是一种多核计算机设计的语言，天生支持并发，并且拥有GMP模型，减少了并发切换线程的性能开销；Java中仍然是内核级线程，多线程开发依然需要复杂的实现，而且实现方法有很多种，需要了解每种的优缺点才能写出高性能代码；
内存管理：Go的垃圾收集更快，基于三色收集法；Java的垃圾收集为分代收集法；
接口：Go语言隐式的声明和实现接口；Java需要直接实现接口。